{% extends "layout.html" %}

{% block content %}
<div class="page-container">
    <header class="page-header">
        <h1>Tus Notificaciones</h1>
        <p>Aquí encontrarás las últimas actualizaciones sobre tu actividad.</p>
    </header>

    <div class="notifications-container">
        <!-- BUCLE PARA MOSTRAR CADA NOTIFICACIÓN REAL -->
        {% for notificacion in notificaciones %}
        <a href="{{ notificacion.enlace_url or '#' }}" class="notification-item {% if not notificacion.leida %}unread{% endif %}">
            <div class="notification-icon"><i class="fas fa-eye"></i></div>
            <div class="notification-content">
                <!-- Mostramos el texto que viene de la base de datos -->
                <p>{{ notificacion.texto | safe }}</p>
                <span class="notification-time">{{ notificacion.fecha_creacion.strftime('%d de %b, %Y a las %H:%M') }}</span>
            </div>
        </a>
        {% else %}
        <div class="notification-item">
            <div class="notification-content">
                <p>No tienes notificaciones nuevas.</p>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}
